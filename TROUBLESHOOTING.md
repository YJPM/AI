# AIæ™ºèƒ½åŠ©æ‰‹ - æ•…éšœæ’é™¤æŒ‡å—

## ğŸ” å¸¸è§é—®é¢˜è¯Šæ–­

### é—®é¢˜1: æ— æ³•è·å–è§’è‰²è®¾å®šä¿¡æ¯

**ç—‡çŠ¶**: æ§åˆ¶å°æ˜¾ç¤º "âŒ æœªæ‰¾åˆ°è§’è‰²è®¾å®šä¿¡æ¯"

**å¯èƒ½åŸå› **:
1. æœªåŠ è½½è§’è‰²å¡
2. SillyTavernç‰ˆæœ¬ä¸å…¼å®¹
3. ç¼ºå°‘TavernHelperæ‰©å±•

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ¡ˆ1: ç¡®ä¿åŠ è½½è§’è‰²å¡
1. åœ¨SillyTavernä¸­åŠ è½½ä¸€ä¸ªè§’è‰²å¡
2. ç¡®ä¿è§’è‰²å¡åŒ…å«åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ç­‰ï¼‰
3. é‡æ–°å°è¯•ç”Ÿæˆé€‰é¡¹

#### æ–¹æ¡ˆ2: å®‰è£…TavernHelperæ‰©å±•
1. åœ¨SillyTavernæ‰©å±•ç®¡ç†å™¨ä¸­æœç´¢"TavernHelper"
2. å®‰è£…å¹¶å¯ç”¨TavernHelperæ‰©å±•
3. é‡å¯SillyTavern
4. é‡æ–°å°è¯•ç”Ÿæˆé€‰é¡¹

#### æ–¹æ¡ˆ3: æ‰‹åŠ¨æ£€æŸ¥è§’è‰²ä¿¡æ¯
åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```javascript
// æ£€æŸ¥SillyTavern API
console.log('SillyTavern:', window.SillyTavern);
console.log('TavernHelper:', window.TavernHelper);

// æ£€æŸ¥DOMä¸­çš„è§’è‰²å…ƒç´ 
console.log('è§’è‰²å…ƒç´ :', document.querySelector('#character_info, .character_info, .char_name'));
```

### é—®é¢˜2: æ— æ³•è·å–ä¸–ç•Œä¹¦ä¿¡æ¯

**ç—‡çŠ¶**: æ§åˆ¶å°æ˜¾ç¤º "âŒ æœªæ‰¾åˆ°ä¸–ç•Œä¹¦ä¿¡æ¯"

**å¯èƒ½åŸå› **:
1. æœªåˆ›å»ºæˆ–åŠ è½½ä¸–ç•Œä¹¦
2. ä¸–ç•Œä¹¦æ ¼å¼ä¸å…¼å®¹
3. APIæƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ¡ˆ1: åˆ›å»ºä¸–ç•Œä¹¦
1. åœ¨SillyTavernä¸­åˆ›å»ºä¸–ç•Œä¹¦
2. ç¡®ä¿ä¸–ç•Œä¹¦åŒ…å«æ ‡é¢˜å’Œå†…å®¹
3. ä¿å­˜å¹¶é‡æ–°åŠ è½½

#### æ–¹æ¡ˆ2: æ£€æŸ¥ä¸–ç•Œä¹¦æ ¼å¼
ç¡®ä¿ä¸–ç•Œä¹¦åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- `title`: ä¸–ç•Œä¹¦æ ‡é¢˜
- `content`: ä¸–ç•Œä¹¦å†…å®¹
- `keys`: å…³é”®è¯ï¼ˆå¯é€‰ï¼‰
- `priority`: ä¼˜å…ˆçº§ï¼ˆå¯é€‰ï¼‰

#### æ–¹æ¡ˆ3: ä½¿ç”¨è°ƒè¯•å·¥å…·
åœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š
```javascript
// è¿è¡Œå®Œæ•´è¯Šæ–­
window.debugAIAssistant.runDiagnostic();

// æˆ–å•ç‹¬æ£€æŸ¥ä¸–ç•Œä¹¦
window.debugAIAssistant.checkDOM();
```

### é—®é¢˜3: æ— æ³•è·å–æ¶ˆæ¯å†å²

**ç—‡çŠ¶**: æ§åˆ¶å°æ˜¾ç¤º "âŒ SillyTavern.getContext() æœªè¿”å›æ¶ˆæ¯æ•°æ®"

**å¯èƒ½åŸå› **:
1. èŠå¤©è®°å½•ä¸ºç©º
2. APIè°ƒç”¨å¤±è´¥
3. æƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ¡ˆ1: ç¡®ä¿æœ‰èŠå¤©è®°å½•
1. ä¸AIè¿›è¡Œä¸€äº›å¯¹è¯
2. ç¡®ä¿å¯¹è¯è®°å½•å·²ä¿å­˜
3. é‡æ–°å°è¯•ç”Ÿæˆé€‰é¡¹

#### æ–¹æ¡ˆ2: æ£€æŸ¥APIçŠ¶æ€
åœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š
```javascript
// æµ‹è¯•SillyTavern API
window.debugAIAssistant.testSillyTavern();

// æµ‹è¯•TavernHelper API
window.debugAIAssistant.testTavernHelper();
```

#### æ–¹æ¡ˆ3: æ‰‹åŠ¨è·å–æ¶ˆæ¯
```javascript
// æ£€æŸ¥DOMä¸­çš„æ¶ˆæ¯å…ƒç´ 
const messages = document.querySelectorAll('#chat .mes, .message');
console.log('æ‰¾åˆ°æ¶ˆæ¯æ•°é‡:', messages.length);
messages.forEach((msg, index) => {
    console.log(`æ¶ˆæ¯ ${index + 1}:`, msg.textContent.substring(0, 100));
});
```

## ğŸ› ï¸ è°ƒè¯•å·¥å…·ä½¿ç”¨

### è‡ªåŠ¨è¯Šæ–­
å½“å¯ç”¨è°ƒè¯•æ¨¡å¼æ—¶ï¼Œæ‰©å±•ä¼šè‡ªåŠ¨è¿è¡Œè¯Šæ–­ã€‚åœ¨è®¾ç½®ä¸­ç¡®ä¿"è°ƒè¯•"é€‰é¡¹å·²å¯ç”¨ã€‚

### æ‰‹åŠ¨è¯Šæ–­
åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```javascript
// è¿è¡Œå®Œæ•´è¯Šæ–­
window.debugAIAssistant.runDiagnostic();

// æ£€æŸ¥APIå¯ç”¨æ€§
window.debugAIAssistant.checkAPIs();

// æ£€æŸ¥DOMç»“æ„
window.debugAIAssistant.checkDOM();

// æµ‹è¯•ç‰¹å®šAPI
window.debugAIAssistant.testSillyTavern();
window.debugAIAssistant.testTavernHelper();

// ç”Ÿæˆè¯Šæ–­æŠ¥å‘Š
window.debugAIAssistant.generateReport();
```

### è¯Šæ–­æŠ¥å‘Šè§£è¯»

è¯Šæ–­æŠ¥å‘ŠåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

```javascript
{
    timestamp: "2024-12-XX...", // è¯Šæ–­æ—¶é—´
    userAgent: "...", // æµè§ˆå™¨ä¿¡æ¯
    url: "...", // å½“å‰é¡µé¢URL
    apis: {
        SillyTavern: { available: true/false, methods: [...] },
        TavernHelper: { available: true/false, methods: [...] }
    },
    dom: {
        character: { found: true/false, count: 0 },
        worldbook: { found: true/false, count: 0 },
        messages: { found: true/false, count: 0 }
    },
    recommendations: ["å»ºè®®1", "å»ºè®®2"] // æ”¹è¿›å»ºè®®
}
```

## ğŸ”§ é«˜çº§æ•…éšœæ’é™¤

### æ£€æŸ¥SillyTavernç‰ˆæœ¬
ç¡®ä¿ä½¿ç”¨å…¼å®¹çš„SillyTavernç‰ˆæœ¬ï¼š
- æ¨èç‰ˆæœ¬: 1.10.0 æˆ–æ›´é«˜
- æœ€ä½ç‰ˆæœ¬: 1.9.0

### æ£€æŸ¥æ‰©å±•å†²çª
1. ç¦ç”¨å…¶ä»–å¯èƒ½å†²çªçš„æ‰©å±•
2. é€ä¸ªå¯ç”¨æ‰©å±•ï¼Œæ‰¾å‡ºå†²çªæº
3. æ›´æ–°å†²çªçš„æ‰©å±•åˆ°æœ€æ–°ç‰ˆæœ¬

### æ¸…é™¤ç¼“å­˜
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
2. æ¸…é™¤SillyTavernæœ¬åœ°å­˜å‚¨
3. é‡æ–°åŠ è½½é¡µé¢

### æ£€æŸ¥ç½‘ç»œè¿æ¥
1. ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. å°è¯•ä½¿ç”¨ä¸åŒçš„ç½‘ç»œ

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·ï¼š

1. **æ”¶é›†è¯Šæ–­ä¿¡æ¯**:
   ```javascript
   const report = window.debugAIAssistant.generateReport();
   console.log(JSON.stringify(report, null, 2));
   ```

2. **æˆªå›¾é”™è¯¯ä¿¡æ¯**: åŒ…å«æ§åˆ¶å°é”™è¯¯å’Œé¡µé¢çŠ¶æ€

3. **æä¾›ç¯å¢ƒä¿¡æ¯**:
   - SillyTavernç‰ˆæœ¬
   - æµè§ˆå™¨ç‰ˆæœ¬
   - æ“ä½œç³»ç»Ÿ
   - å·²å®‰è£…çš„æ‰©å±•åˆ—è¡¨

4. **æäº¤Issue**: åœ¨GitHubä»“åº“ä¸­æäº¤è¯¦ç»†çš„é—®é¢˜æŠ¥å‘Š

## ğŸ¯ æœ€ä½³å®è·µ

### æ¨èé…ç½®
1. **å®‰è£…TavernHelperæ‰©å±•**: æä¾›æ›´å¥½çš„APIæ”¯æŒ
2. **å¯ç”¨è°ƒè¯•æ¨¡å¼**: ä¾¿äºé—®é¢˜è¯Šæ–­
3. **å®šæœŸæ›´æ–°**: ä¿æŒæ‰©å±•å’ŒSillyTavernä¸ºæœ€æ–°ç‰ˆæœ¬
4. **å¤‡ä»½è®¾ç½®**: å®šæœŸå¤‡ä»½é‡è¦é…ç½®

### æ€§èƒ½ä¼˜åŒ–
1. **é™åˆ¶æ¶ˆæ¯æ•°é‡**: åœ¨è®¾ç½®ä¸­è°ƒæ•´æ¶ˆæ¯é™åˆ¶
2. **ä½¿ç”¨æµå¼ç”Ÿæˆ**: å¯ç”¨æµå¼é€‰é¡¹ç”Ÿæˆ
3. **åˆç†è®¾ç½®API**: é€‰æ‹©åˆé€‚çš„APIå’Œæ¨¡å‹

### å®‰å…¨å»ºè®®
1. **ä¿æŠ¤APIå¯†é’¥**: ä¸è¦åœ¨å…¬å¼€åœºåˆåˆ†äº«APIå¯†é’¥
2. **å®šæœŸæ›´æ¢å¯†é’¥**: å®šæœŸæ›´æ–°APIå¯†é’¥
3. **ç›‘æ§ä½¿ç”¨é‡**: å…³æ³¨APIä½¿ç”¨æƒ…å†µ

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**ç‰ˆæœ¬**: 1.2.4 